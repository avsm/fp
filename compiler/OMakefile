.PHONY: clean

OCAMLFLAGS    += -dtypes

GEN_FILES = parser.mli parser.ml lexer.ml
OCamlGeneratedFiles($(GEN_FILES))
FP_FILES[] =
    location
    lexer
    parser
    ast
    asttypes
    ident
    env
    types
    typing
    patternmatch
    dependency
    config
    util
    fpc

FP = fp
FP_COMPILER = $(OCamlProgram $(FP), $(FP_FILES))

.DEFAULT: $(FP_COMPILER)

clean:
    rm -f $(filter-proper-targets $(ls R, .)) *.annot *.spot
