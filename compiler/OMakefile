.PHONY: clean

# Hook in Jun Furuse's ocamlspot

#OCAMLC = /home/prashanth/src/ocamlspotter/ocaml-src/install/bin/ocamlc.opt
#OCAMLOPT = /home/prashanth/src/ocamlspotter/ocaml-src/install/bin/ocamlopt.opt

OCAMLFLAGS    += -dtypes

# Compiler

GEN_FILES = parser.mli parser.ml lexer.ml
OCamlGeneratedFiles($(GEN_FILES))
FP_FILES[] =
    location
    lexer
    parser
    ast
    asttypes
    ident
    env
    types
    typing
    patternmatch
    fpc

FP = fp
FP_COMPILER = $(OCamlProgram $(FP), $(FP_FILES))

.DEFAULT: $(FP_COMPILER)

clean:
    $(CLEAN) $(FP_COMPILER) $(GEN_FILES)
